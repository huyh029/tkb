<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Thá»i tiáº¿t theo tÃªn Ä‘á»‹a Ä‘iá»ƒm</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 40px; }
    input, button { font-size: 1rem; padding: 10px; }
    #weather { margin-top: 20px; font-size: 1.2rem; }
  </style>
</head>
<body>
  <h1>ğŸŒ¤ Thá»i tiáº¿t theo tÃªn Ä‘á»‹a Ä‘iá»ƒm</h1>
  <input type="text" id="city" placeholder="Nháº­p tÃªn Ä‘á»‹a Ä‘iá»ƒm (VD: Da Nang)" />
  <button onclick="getWeather()">Xem thá»i tiáº¿t</button>

  <div id="weather">ChÆ°a cÃ³ dá»¯ liá»‡u</div>

  <script>
    async function getWeather() {
      const city = document.getElementById("city").value.trim();
      if (!city) return alert("Vui lÃ²ng nháº­p Ä‘á»‹a Ä‘iá»ƒm!");

      // Gá»i geocoding Ä‘á»ƒ láº¥y tá»a Ä‘á»™
      const geoUrl = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(city)}`;
      const geoRes = await fetch(geoUrl);
      const geoData = await geoRes.json();

      if (!geoData.results || geoData.results.length === 0) {
        return document.getElementById("weather").innerText = "KhÃ´ng tÃ¬m tháº¥y Ä‘á»‹a Ä‘iá»ƒm.";
      }

      const { latitude, longitude, name, country } = geoData.results[0];

      // Gá»i weather API vá»›i tá»a Ä‘á»™ vá»«a tÃ¬m
      const weatherUrl = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,wind_speed_10m&timezone=auto`;
      const weatherRes = await fetch(weatherUrl);
      const weatherData = await weatherRes.json();

      const temp = weatherData.current.temperature_2m;
      const wind = weatherData.current.wind_speed_10m;

      document.getElementById("weather").innerHTML = `
        ğŸ“ <strong>${name}, ${country}</strong><br>
        ğŸŒ¡ï¸ Nhiá»‡t Ä‘á»™: <strong>${temp}Â°C</strong><br>
        ğŸ’¨ GiÃ³: <strong>${wind} km/h</strong>
      `;
    }
  </script>
</body>
</html>
